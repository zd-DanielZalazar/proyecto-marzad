<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.sga.marzad.controller.DocenteMateriasController"
            prefWidth="980" prefHeight="640"
            styleClass="view-background">

    <top>
        <VBox spacing="6" alignment="CENTER" styleClass="panel-header">
            <Label text="Panel Docente" styleClass="label-title"/>
            <Label text="Gestión de materias, notas y asistencia" styleClass="label-subtitle"/>
        </VBox>
    </top>

    <center>
        <VBox spacing="16" alignment="TOP_CENTER" styleClass="panel-content">
            <Label text="Seleccione una materia" styleClass="label-section"/>
            <ComboBox fx:id="comboMaterias" prefWidth="420"/>

            <TabPane prefWidth="900">
                <tabs>
                    <Tab text="Calificaciones" closable="false">
                        <VBox spacing="12" alignment="TOP_CENTER">
                            <HBox spacing="20" alignment="CENTER_LEFT" prefWidth="900">
                                <VBox spacing="6" alignment="TOP_LEFT" styleClass="panel">
                                    <Label text="Alumno seleccionado" styleClass="label-section"/>
                                    <HBox spacing="12" alignment="CENTER_LEFT">
                                        <Label text="Nombre:" styleClass="label-field"/>
                                        <Label fx:id="lblAlumnoNombre" text="-" style="-fx-font-weight: bold;"/>
                                        <Label text="DNI:" styleClass="label-field" />
                                        <Label fx:id="lblAlumnoDni" text="-" />
                                        <Label text="Estado:" styleClass="label-field" />
                                        <Label fx:id="lblAlumnoEstado" text="-" />
                                    </HBox>
                                    <Label text="Edita las notas directamente en la tabla. Usa Enter para confirmar cada cambio."
                                           wrapText="true" style="-fx-text-fill: #435362;"/>
                                </VBox>
                            </HBox>
                            <TableView fx:id="tablaAlumnos" editable="true" prefHeight="360" prefWidth="900">
                                <columns>
                                    <TableColumn fx:id="colNombre" text="Nombre y Apellido"/>
                                    <TableColumn fx:id="colDni" text="DNI"/>
                                    <TableColumn fx:id="colCorreo" text="Correo"/>
                                    <TableColumn fx:id="colEstado" text="Estado"/>
                                    <TableColumn fx:id="colParcial1" text="Primer Parcial" editable="true"/>
                                    <TableColumn fx:id="colRecup1" text="Recup. 1" editable="true"/>
                                    <TableColumn fx:id="colParcial2" text="Segundo Parcial" editable="true"/>
                                    <TableColumn fx:id="colRecup2" text="Recup. 2" editable="true"/>
                                    <TableColumn fx:id="colFinal" text="Final/Promo" editable="true"/>
                                    <TableColumn fx:id="colAcciones" text="Acción"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </Tab>
                    <Tab text="Asistencias" closable="false">
                        <VBox spacing="14" alignment="TOP_CENTER">
                            <padding><Insets top="8" right="0" bottom="0" left="0"/></padding>
                            <HBox spacing="14" alignment="CENTER_LEFT">
                                <padding><Insets top="6" right="0" bottom="6" left="0"/></padding>
                                <Label text="Fecha:" styleClass="label-field"/>
                                <DatePicker fx:id="dateAsistencia"/>
                                <CheckBox fx:id="chkMarcarTodos" text="Marcar todos presentes" onAction="#onMarcarTodos"/>
                                <Button text="Guardar asistencia" onAction="#onGuardarAsistencia" styleClass="btn-primary"/>
                                <Button text="Cuadro resumen" onAction="#onVerCuadroAsistencias" styleClass="btn-secondary"/>
                                <Button text="Limpiar" onAction="#onLimpiarAsistencia" styleClass="btn-danger"/>
                            </HBox>
                            <TableView fx:id="tablaAsistencias" prefHeight="260">
                                <columns>
                                    <TableColumn fx:id="colAsistAlumno" text="Alumno"/>
                                    <TableColumn fx:id="colAsistDni" text="DNI"/>
                                    <TableColumn fx:id="colAsistPresente" text="Presente"/>
                                    <TableColumn fx:id="colAsistAusente" text="Ausente"/>
                                    <TableColumn fx:id="colAsistPresentes" text="Presentes"/>
                                    <TableColumn fx:id="colAsistTotal" text="Clases"/>
                                </columns>
                                <placeholder>
                                    <Label text="Seleccione materia y fecha para cargar asistencias"/>
                                </placeholder>
                            </TableView>
                        </VBox>
                    </Tab>
                </tabs>
            </TabPane>
        </VBox>
    </center>
</BorderPane>
